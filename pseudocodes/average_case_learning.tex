
\begin{algorithm}[h]
\DontPrintSemicolon
\LinesNumbered
\caption{The $O(\beta\cdot\log n)$-approximation algorithm for the PCACAL}
\label{averageDecisionTree}
\SetKwProg{Proc}{procedure}{}{}
\Proc{\textsc{AverageDecisionTree}$(\mathcal{H}, \mathcal{T}, \mathcal{F})$}{
$\mathcal{U} \gets \mathcal{H}$\;

\ForEach{$t \in \mathcal{T}$}{
Set $t$ to cover $u\in \mathcal{U}$ if for $u \in U_{t,j}$, $\spr{U_{t,j}}\leq \frac{3}{4}\cdot\spr{U}$\;
}
$S \gets$ Run the $\alpha$-approximation algorithm for PCMSSC on instance $(\mathcal{U}, \mathcal{T}, \mathcal{F})$ with $K=n/4$\;

$D \gets D_S \gets $ any decision tree built on tests from $S$ closed under $\mathcal{F}$\;

\ForEach{$\mathcal{H}' \in \mathcal{H} - S$}{
$D' \gets$ \textsc{AverageDecisionTree}$(\mathcal{H}', \mathcal{T} -  S, \mathcal{F} -  S)$\;

Attach $D'$ to the leaf of $D$ corresponding to $\mathcal{H}'$\;
}
\Return $D$\;
}
\end{algorithm}